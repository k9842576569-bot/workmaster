<!-- ================= DAILY ENTRY ================= -->
<div class="box" id="daily">

  <h3>Daily Entry</h3>

  <div class="row"><label>Mobile No</label><input id="mobile"></div>
  <div class="row"><label>Date</label><input type="date" id="date"></div>
  <div class="row"><label>Branch Code</label><input id="dbranchCode"></div>
  <div class="row"><label>Branch Name</label><input id="dbranchName"></div>

  <div class="row">
    <label>In Time</label>
    <input type="number" id="inHour" min="1" max="12" style="width:50px"> :
    <input type="number" id="inMinute" min="0" max="59" style="width:50px">
    <select id="inAMPM">
      <option>AM</option>
      <option>PM</option>
    </select>
  </div>

  <div class="row">
    <label>Out Time</label>
    <input type="number" id="outHour" min="1" max="12" style="width:50px"> :
    <input type="number" id="outMinute" min="0" max="59" style="width:50px">
    <select id="outAMPM">
      <option>AM</option>
      <option>PM</option>
    </select>
  </div>

  <div class="row"><label>Remarks</label><input id="remarks"></div>

  <button onclick="addEntry()">Add Entry</button>

  <table id="dailyTable">
    <tr>
      <th>EntryID</th>
      <th>Mobile</th>
      <th>Date</th>
      <th>Branch Code</th>
      <th>Branch Name</th>
      <th>In</th>
      <th>Out</th>
      <th>Remarks</th>
    </tr>
  </table>
</div>

<script>
let entryID = 1;

document.getElementById("mobile").addEventListener("input", function () {
  this.value = this.value.replace(/[^0-9]/g, "").slice(0, 10);
});

function addEntry() {
  let table = document.getElementById("dailyTable");
  let row = table.insertRow();

  // Format time in 12-hour format manually
  const inTime = `${String(inHour.value).padStart(2,'0')}:${String(inMinute.value).padStart(2,'0')} ${inAMPM.value}`;
  const outTime = `${String(outHour.value).padStart(2,'0')}:${String(outMinute.value).padStart(2,'0')} ${outAMPM.value}`;

  row.insertCell(0).innerHTML = entryID++;
  row.insertCell(1).innerHTML = mobile.value;
  row.insertCell(2).innerHTML = date.value;
  row.insertCell(3).innerHTML = dbranchCode.value;
  row.insertCell(4).innerHTML = dbranchName.value;
  row.insertCell(5).innerHTML = inTime;
  row.insertCell(6).innerHTML = outTime;
  row.insertCell(7).innerHTML = remarks.value;

  // clear input after adding
  mobile.value = date.value = dbranchCode.value = dbranchName.value = remarks.value = "";
  inHour.value = inMinute.value = outHour.value = outMinute.value = "";
  inAMPM.value = "AM"; outAMPM.value = "PM";
}
</script>
