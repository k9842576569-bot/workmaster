<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Staff Login & Attendance</title>
<style>
  body { font-family: Arial; padding: 20px; }
  .row { display: flex; gap: 5px; }
  input, select, button { padding: 6px; margin: 4px 0; }
  #dashboard { display: none; }
</style>
</head>
<body>

<!-- ================= LOGIN ================= -->
<h3>Login</h3>
<input id="loginId" placeholder="Staff ID">
<input id="loginPwd" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<p id="loginMsg"></p>

<!-- ================= DASHBOARD ================= -->
<div id="dashboard">

<h3>Branch Search</h3>
<input id="branchSearch" placeholder="Search Branch" onkeyup="searchBranch()">
<ul id="branchList">
  <li>Chennai Main</li>
  <li>Coimbatore</li>
  <li>Salem</li>
  <li>Madurai</li>
</ul>

<hr>

<!-- ================= IN TIME ================= -->
<label>In time (12-hour)</label>
<div class="row">
  <input id="inHour" type="number" min="1" max="12" placeholder="HH">
  <input id="inMinute" type="number" min="0" max="59" placeholder="MM">
  <select id="inAmPm">
    <option value="">AM/PM</option>
    <option value="AM">AM</option>
    <option value="PM">PM</option>
  </select>
</div>
<input type="hidden" id="inTime">

<!-- ================= OUT TIME ================= -->
<label>Out time (12-hour)</label>
<div class="row">
  <input id="outHour" type="number" min="1" max="12" placeholder="HH">
  <input id="outMinute" type="number" min="0" max="59" placeholder="MM">
  <select id="outAmPm">
    <option value="">AM/PM</option>
    <option value="AM">AM</option>
    <option value="PM">PM</option>
  </select>
</div>
<input type="hidden" id="outTime">

<br>
<button onclick="saveTime()">Save Time</button>
<p id="timeMsg"></p>

</div>

<script>
// ================= STAFF DATA =================
const staffData = {
  "STF001": {
    "Name": "SURESHKUMAR",
    "Email": "k9842576569@gmail.com",
    "Mobile": "9842576569",
    "Role": "ADMIN",
    "Password": "SUS@1234"
  },
  "STF002": {
    "Name": "AJITHKUMAR",
    "Email": "AJITHKUMAR@GMAIL.COM",
    "Mobile": "9629281379",
    "Role": "STAFF",
    "Password": "SUS@1234"
  }
};

// ================= LOGIN FUNCTION =================
function login() {
  const id = document.getElementById("loginId").value.trim();
  const pwd = document.getElementById("loginPwd").value;

  if (staffData[id] && staffData[id].Password === pwd) {
    document.getElementById("loginMsg").innerText =
      "Welcome " + staffData[id].Name;
    document.getElementById("dashboard").style.display = "block";
  } else {
    document.getElementById("loginMsg").innerText =
      "Invalid ID or Password";
  }
}

// ================= BRANCH SEARCH =================
function searchBranch() {
  const filter = document.getElementById("branchSearch").value.toLowerCase();
  const list = document.getElementById("branchList").getElementsByTagName("li");

  for (let i = 0; i < list.length; i++) {
    list[i].style.display =
      list[i].innerText.toLowerCase().includes(filter) ? "" : "none";
  }
}

// ================= TIME SAVE =================
function saveTime() {
  const inTime = get12HourTime("inHour", "inMinute", "inAmPm");
  const outTime = get12HourTime("outHour", "outMinute", "outAmPm");

  if (!inTime || !outTime) {
    document.getElementById("timeMsg").innerText =
      "Please enter valid IN and OUT time";
    return;
  }

  document.getElementById("inTime").value = inTime;
  document.getElementById("outTime").value = outTime;

  document.getElementById("timeMsg").innerText =
    "Saved: IN " + inTime + " | OUT " + outTime;
}

// ================= TIME FORMATTER =================
function get12HourTime(h, m, ap) {
  const hh = document.getElementById(h).value;
  const mm = document.getElementById(m).value;
  const ampm = document.getElementById(ap).value;

  if (!hh || !mm || !ampm) return null;

  return hh.padStart(2, "0") + ":" +
         mm.padStart(2, "0") + " " + ampm;
}
</script>

</body>
</html>
